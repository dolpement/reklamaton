# Twinby - AI Агенты и Видеозвонки

## Архитектура

### Фронтенд (React + Vite)
- **Путь:** `ai-call-app-minimal/`
- **Технологии:** React, Socket.IO Client, WebRTC
- **Функции:**
  - Аутентификация пользователей
  - Чат с AI агентами
  - Видео/аудио звонки между пользователями
  - Создание и управление AI агентами

### Бэкенд (Flask + Socket.IO)
- **Путь:** `call-system-backend/`
- **Технологии:** Flask, Socket.IO, SQLite, Яндекс Assistant API
- **Функции:**
  - REST API для пользователей и чатов
  - WebSocket для реального времени (звонки)
  - Интеграция с Яндекс Assistant API
  - Управление AI агентами

### AI Интеграция
- **API:** Яндекс Assistant API
- **Ключи:**
  - API Key: `AQVNwKAjyDQ_7V_wK8GPTd1rZqtBM6mAWRwdPZ1I`
  - Folder ID: `aje0k0hsgd1vtlfv0au1`
- **Функции:**
  - Персональные ассистенты для каждого AI агента
  - Сохранение контекста диалога
  - Настраиваемые характеры

## Как запустить

### 1. Бэкенд
```bash
cd call-system-backend
pip install -r requirements.txt
python src/main.py
```
Сервер запустится на `http://localhost:3001`

### 2. Фронтенд
```bash
cd ai-call-app-minimal
npm install
npm run dev
```
Приложение откроется на `http://localhost:5173`

### 3. Первый запуск
1. Откройте `http://localhost:5173`
2. Зарегистрируйтесь или войдите
3. Перейдите в раздел "AI Агенты"
4. Создайте нового агента или используйте готовых
5. Начните чат с AI агентом

## Особенности

### AI Агенты
- **Только чат** - нет кнопок звонков для AI агентов
- **Персональные характеры** - каждый агент имеет уникальную личность
- **Яндекс Assistant** - используется для генерации ответов
- **Сохранение контекста** - диалог сохраняется между сессиями

### Обычные пользователи
- **Чат + звонки** - полный функционал общения
- **WebRTC** - прямые видео/аудио звонки
- **Поиск** - поиск других пользователей

### Безопасность
- Сессии пользователей
- CORS настроен для локальной разработки
- API ключи в коде (для разработки)

## Структура файлов

```
twinby-app/
├── ai-call-app-minimal/          # React фронтенд
│   ├── src/
│   │   ├── App.jsx              # Основной компонент
│   │   └── App.css              # Стили
│   └── package.json
├── call-system-backend/          # Flask бэкенд
│   ├── src/
│   │   ├── main.py              # Точка входа
│   │   ├── models/              # Модели БД
│   │   └── routes/              # API маршруты
│   │       ├── user.py          # Пользователи
│   │       ├── call.py          # Звонки
│   │       └── yandex_assistant.py  # AI интеграция
│   └── requirements.txt
└── README.md
```

